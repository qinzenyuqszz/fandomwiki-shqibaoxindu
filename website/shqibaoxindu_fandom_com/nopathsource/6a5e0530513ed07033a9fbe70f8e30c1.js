var Te=Object.defineProperty;var Ae=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var f=(e,t,n)=>Ae(e,typeof t!="symbol"?t+"":t,n);function Se(e){e.cmd??(e.cmd=[]);const t=[...e.cmd];e.cmd.push=(...n)=>{for(const o of n)o(e);return 0};for(const n of t)n(e)}const ke=e=>{const t=("; "+document.cookie).split("; "+e+"=");return t.length>=2?t.pop().split(";").shift():null},H=e=>e!=null&&e.length?` domain=${e};`:"",Oe=(e,t,n)=>{const o=new Date;o.setTime(o.getTime()+n.expires*1e3),document.cookie=`${e}=${t};${H(n.domain)} path=${n.path}; expires=${o.toUTCString()}`},Ne=(e,t)=>{document.cookie=`${e}=;${H(t.domain)} path=${t.path}; expires=Thu, 01 Jan 1970 00:00:00 GMT`},x={set:Oe,get:ke,delete:Ne},j=()=>{const e=window.location.hostname,t=e.split(".");return t.length<2?e:`.${t[t.length-2]}.${t[t.length-1]}`};async function V(e,t=1e3,n={}){const o=new AbortController,r=setTimeout(()=>o.abort("The request has timed out"),t),i=await fetch(e,{signal:o.signal,...n});return clearTimeout(r),i}function J(e){return new URLSearchParams(window.location.search).get(e)}function X(e){const t=J(e);return Ce(e)&&t===""||t==="1"||t==="true"}function Ce(e){return new URLSearchParams(window.location.search).has(e)}const Re="100",Le=/^(?:v\d+-)?(\d{2})$/;function p(){let e=J("pf_pathfinder_force_bucket")??x.get("exp_bucket");const t=e==null?void 0:e.match(Le);return t&&t.length>=2&&(e=t[1]),e??Re}var d=(e=>(e.AE_FIRST_LINE_EXEC="ae.firstLineExec",e.AE_AFTER_INIT_PLUGINS="ae.afterInitPlugins",e.AE_AFTER_GPT_WRAPPER_INIT="ae.afterGptWrapperInit",e.AE_AD_ENGINE_INIT="ae.adEngineInit",e.AE_ON_BIDDERS_INIT="ae.onBiddersInit",e.AE_CONFIG_CALLBACK_STARTED="ae.beforeAuction.configCallbackStarted",e.AE_CONFIG_CALLBACK_COMPLETE="ae.beforeAuction.configCallbackComplete",e.AE_AUCTION_START="ae.auctionStart",e.AE_AUCTION_START_A9_START="ae.auctionStart.a9.bidStart",e.AE_AUCTION_END="ae.auctionEnd",e.AE_BEFORE_FIRST_CALL_ADS_REQUEST="ae.beforeFirstCallAdsRequest",e.AE_GPT_SLOT_REQUESTED_INITIAL="ae.gpt.slotRequested.initial",e.AE_GPT_SLOT_RESPONSE_RECEIVED_INITIAL="ae.gpt.slotResponseReceived.initial",e.AE_GPT_SLOT_RENDERED_ENDED_INITIAL="ae.gpt.slotRenderEnded.initial",e.AE_GPT_SLOT_SLOT_ONLOAD_INITIAL="ae.gpt.slotOnload.initial",e))(d||{}),D=(e=>(e.AE_AUCTION_DURATION_A9_BID_TOTAL_TIME="ae.d.auctionDuration.a9.bidTotalTime",e.AE_AUCTION_DURATION="ae.d.auctionDuration",e.AE_DURATION_TO_BID="ae.d.firstLineExec_to_auctionStart",e.AE_CONFIG_CALLBACK_DURATION="ae.d.configCallbackDuration",e))(D||{}),z=(e=>(e.BIDDER_RESPONSE="bid_response",e))(z||{}),g=(e=>(e.SLOT_REQUESTED_INFO="requested_info",e.SLOT_CODE_SERVED_INFO="code_served_info",e.SLOT_RENDERED_INFO="success_info",e.SLOT_COLLAPSE_INFO="collapse",e.SLOT_FORCE_CLOSE_INFO="force-close",e.SLOT_CLICKED="clicked",e))(g||{}),G=(e=>(e.LABRADOR_KEYVALUES="labrador_keyvalues",e))(G||{}),u=(e=>(e.SLOT_REQUESTED="requested",e.SLOT_RENDERED="rendered",e.AE_INIT="init",e.VENDOR_TIME_UPDATE="vendor_time_update",e))(u||{}),W=(e=>(e.SLOT_SIZE_ESTABLISHED="size_established",e))(W||{}),$=(e=>(e.TRACKING_EVENT="trackingevent",e))($||{}),E=(e=>(e.YES="yes",e.NO="no",e.NOT_APPLICABLE="",e))(E||{}),M=(e=>(e.FANDOM_DESKTOP="fandomdesktop",e.FANDOM_MOBILE="fandommobile",e))(M||{});function N(e,t){return Object.values(e).includes(t)}function De(e){return N(g,e.event)}function xe(e){return N(z,e.event)}function $e(e){return N(G,e.event)}function Y(e){return N(u,e.event)}function ye(e){return N(W,e.event)}function Ue(e){return N($,e.event)}const Pe="https://services.fandom.com/geoip/location",Z=async e=>{const t=e.get("Geo");if(t)try{return JSON.parse(decodeURIComponent(t))}catch(s){console.error("Error parsing Geo cookie",s);const a=j();e.delete("Geo",{domain:a,path:"/"})}const n=await fetch(Pe),{country_code:o,region:r,continent_code:i}=await n.json();return{country:o,region:r,continent:i}},Be=(e,t)=>{if(!e.get("Geo")){const o=j();e.set("Geo",encodeURIComponent(JSON.stringify(t)),{domain:o,path:"/",expires:365})}},Me=e=>{const t=Array.isArray(e)?e.map(r=>r&&r.toString().split(":")).filter(r=>r&&r.length>=2).reduce((r,i)=>(r[i[0]]=i[1],r),{}):{},n=[],o=[];return{mark:(r,i,s)=>{const a=s?i:100-i,l=`${r}_${s?"B":"A"}_${a}`,R=t[l]??l;n.includes(l)||n.push(l),o.includes(R)||o.push(R)},getKeyValues:()=>n,getLabradorKeyValues:()=>o}},L="non-",F="XX";function Fe(e){return e.startsWith(L)?{value:e.replace(L,""),negated:!0}:{value:e,negated:!1}}function Ve(e,t){return t.some(n=>e.includes(n.value)&&n.negated)}const ze=e=>{const t=e==null?void 0:e.toLowerCase();return n=>{const r=(n.d??n.devices??[]).map(i=>Fe(i.toLowerCase()));return r.length===0||!t?!0:Ve(t,r)?!1:r.some(i=>i.value===t!==i.negated)}};function Ge(e,t,n,o){return e.includes(`${L}${t}`)||e.includes(`${L}${t}-${n}`)||e.includes(`${L}${F}-${o}`)}function We(e,t,n,o){return e.includes(F)||e.includes(`${F}-${o}`)||e.includes(t)||e.includes(`${t}-${n}`)}const Ke=e=>{const t=e.country,n=e.region,o=e.continent;return r=>{const i=r.r??r.regions??[];return i.length===0||Ge(i,t,n,o)?!1:We(i,t,n,o)}},qe=e=>{try{const t=e.localStorage!==void 0&&e.localStorage!==null;return t&&(e.localStorage.setItem("__test__","test"),e.localStorage.removeItem("__test__")),t}catch{return!1}},Qe=(e,t,n)=>{const o=qe(n),r={getItem:c=>o?n.localStorage.getItem(c):null,setItem:(c,l)=>{if(o)return n.localStorage.setItem(c,l)}},i=c=>c?c<Date.now():!0,s=c=>({data:c,ttl:Date.now()+t}),a=c=>i(c.ttl)?null:c.data;return{set:c=>{const l=s(c);r.setItem(e,JSON.stringify(l))},get:()=>{const c=r.getItem(e);return c?a(JSON.parse(c)):null}}};function He(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="object"}function ee(e){const t=e.sampling??e.s;return typeof t=="number"&&t>0&&t<100?t:null}const Q=(e,t,n,o,r)=>{const i=e[n];if(He(i)){const s=i.find(a=>{const c=t.reduce((he,be)=>he&&be(a),!0),l=ee(a);if(l===null||!c||!o)return c;const R=o(a);return r&&r.mark(n,l,R),R});return(s==null?void 0:s.v)??(s==null?void 0:s.value)}return i},je=async(e,t)=>{const n=e.instantConfig;if(n)return n;const o=`https://services.fandom.com/icbm/api/config?app=${t}&compact=true`,r=`https://script.wikia.nocookie.net/fandom-ae-assets/icbm/prod/icbm_state_${t}.json`,i=Qe(`instant-config-${t}`,6e4,e),s=await Je(o,i)??await te(r)??{};return e.instantConfig=s,s},Je=async(e,t)=>{const n=t.get();if(n)return JSON.parse(n);const o=await te(e);return o&&t.set(JSON.stringify(o)),o},te=async e=>{try{const t=await V(e,2e3);return t.ok?t.json():void 0}catch{return}},Xe=e=>t=>{const n=ee(t);if(n===null)return!0;const o=Math.round(e()),r=Math.round(n);return o<r},Ye=({device:e,geo:t})=>[ze(e),Ke(t)];function Ze(e){const t=("; "+document.cookie).split("; "+e+"=");return t.length===2?t.pop().split(";").shift():void 0}const et=e=>{var n;const t=Number(((n=e.fandomContext)==null?void 0:n.experimentBucket)??Ze("eb")??Math.floor(Math.random()*100));return e.fandomContext=e.fandomContext||{},e.fandomContext.experimentBucket=t,()=>t};function tt(e){if(e==="true"||e==="false")return e==="true";const t=parseInt(e,10);if(e===`${t}`)return t;try{return JSON.parse(e)}catch{return e}}function nt(e,t){return[...t.keys()].filter(n=>n.startsWith("icbm__")&&t.get(n)!==null).map(n=>{const[,o]=n.split("__");return{key:o,value:tt(t.get(n))}}).reduce((n,{key:o,value:r})=>({...n,[o]:r}),e)}const ot=async(e,t)=>{const n=await je(t,e);return nt(n,new URLSearchParams(t.location.search))},rt=(e,t,n)=>{const o=Xe(et(n)),r=Me(Q(e,t,"icLABradorGamKeyValues"));return{config:Object.keys(e).reduce((s,a)=>(s[a]=Q(e,t,a,o,r),s),{}),activeKeyValues:r.getKeyValues(),activeLabradorKeyValues:r.getLabradorKeyValues()}},it={icPrebidIntentIQTimeout:500,icPrebidIntentIQVersion:"6.06-20240711",icPreferredCMP:"onetrust",icAdEngineAuctionTimeoutMS:1500,icAdEngineOnCreateBiddersRequestsTimeoutMS:1510,icAdEngineBidderInitTimeoutMS:1005,icPrebidConfigUpdateTimeoutMS:1e3,icPrebidConsentManagementTimeoutMS:1500,icPrebidInitTimeoutMS:500},st=async(e,t,n)=>{const o=await ot(e,n);return rt(o,t,n)};async function ct(e,t,n){const o=Ye({device:t,geo:n}),{config:r,activeKeyValues:i,activeLabradorKeyValues:s}=await st(e,o,window);return{config:{...it,...r},activeKeyValues:i,activeLabradorKeyValues:s}}const at=/Mobile|iPhone|Android|Silk|Kindle|Windows Phone|KFAPWI|(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ut=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i,dt=/iPad|Android(?!.*Mobile)/i,y=()=>{const e=window.navigator.userAgent;return dt.test(e)?"tablet":at.test(e)||ut.test(e.substring(0,4))?"smartphone":"desktop"},lt=e=>e.includes("Android")?"Android":"Linux",ft=()=>{const e=window.navigator.userAgent,[t=""]=e.match(/Win|Mac|Linux|Android|like Mac/)??[];switch(t){case"Win":return"Windows";case"Mac":return"OSX";case"Linux":return lt(e);case"Android":return"Android";case"like Mac":return"iOS";default:return"unknown"}};class gt{constructor(t){this.trackers=t;const n=window.fandomTrack.q;window.fandomTrack.q.push=(...o)=>(o.forEach(r=>this.executeTracking(r)),0),n.forEach(o=>this.executeTracking(o))}executeTracking(t){this.trackers.forEach(n=>n.trackEvent(t))}}class ne{constructor(){f(this,"eligibleTrackEvents",[])}isEligible(t){return this.eligibleTrackEvents.includes(t)}}function mt(){return(["fandom.com"].find(n=>window.location.hostname.includes(n))?"https://services.fandom.com/":"https://services.fandom-dev."+(location.hostname.match(/(?!\.)(pl|us)$/)??["us"])[0]+"/").replace(/\/+$/,"")}const oe=4e3,re="opted-out",_t=-1,U=new Map;function wt(e){var r,i;if(X("force_tracking"))return!0;const t=U.get(e);if(t!==void 0)return t;const n=(i=(r=window.icbm)==null?void 0:r.config)==null?void 0:i.odysseyPrometheusSenderTrafficLimiter;if((n==null?void 0:n[e])===void 0)return U.set(e,!0),!0;const o=Math.random()*100<n[e];return U.set(e,o),o}function K(e,t){var i,s;if(!wt(e))return;const n=[mt(),"adeng","api","adengine","meter",e].join("/"),o=(((s=(i=window==null?void 0:window.ads)==null?void 0:i.context)==null?void 0:s.platform)||"fandom")+"_odyssey",r=new URLSearchParams(Object.entries(t));V(`${n}?app=${o}&${r.toString()}`,oe,{mode:"no-cors"}).catch(a=>console.warn("Failed to send adengine metrics",a))}function Et({event:e,payload:t},n){const o=t.slotName?`_${t.slotName}`:"";K("time",{action:`${n??e}${o}`,duration:Math.round(t.time)})}const pt=/\./g;function ie(e){return e.replace(pt,"_")}function vt({event:e,payload:t,alias:n}){const o=n??e,r=t.slotName?`_${t.slotName}`:"";K("time",{action:`${o}${r}`,duration:Math.round(t.time)})}function It(e){const n={action:ie(e.name),duration:Math.round(e.duration)};K("time",n)}const ht={[d.AE_FIRST_LINE_EXEC]:{},[d.AE_AFTER_INIT_PLUGINS]:{},[d.AE_AFTER_GPT_WRAPPER_INIT]:{},[d.AE_AD_ENGINE_INIT]:{},[d.AE_ON_BIDDERS_INIT]:{},[d.AE_AUCTION_START]:{onlyFirstRender:!0,duration:{start:d.AE_FIRST_LINE_EXEC,name:D.AE_DURATION_TO_BID}},[d.AE_CONFIG_CALLBACK_COMPLETE]:{duration:{start:d.AE_CONFIG_CALLBACK_STARTED,name:D.AE_CONFIG_CALLBACK_DURATION}},[d.AE_AUCTION_END]:{onlyFirstRender:!0,duration:{start:d.AE_AUCTION_START,name:D.AE_AUCTION_DURATION}},[d.AE_BEFORE_FIRST_CALL_ADS_REQUEST]:{},[d.AE_GPT_SLOT_REQUESTED_INITIAL]:{slotName:"top_leaderboard"},[d.AE_GPT_SLOT_RESPONSE_RECEIVED_INITIAL]:{slotName:"top_leaderboard"},[d.AE_GPT_SLOT_RENDERED_ENDED_INITIAL]:{slotName:"top_leaderboard"},[d.AE_GPT_SLOT_SLOT_ONLOAD_INITIAL]:{slotName:"top_leaderboard"}};class bt extends ne{constructor(){super();f(this,"eligibleTrackEvents",[u.AE_INIT,u.SLOT_REQUESTED,u.SLOT_RENDERED]);f(this,"eligiblePerformanceMarks",ht);f(this,"performanceObserver");this.performanceObserver=this.createPerformanceObserver(),this.startPerformanceObserver(this.performanceObserver)}createPerformanceObserver(){return new window.PerformanceObserver((n,o)=>{this.trackPerformanceMarks(n),this.disconnectPerformanceObserver(o)})}startPerformanceObserver(n){n.observe({type:"mark",buffered:!0})}disconnectPerformanceObserver(n){setTimeout(()=>{n.disconnect()},6e4)}trackEvent(n){if(Y(n)&&this.isEligible(n.event)){this.performanceMarkEvent(n);const{event:o}=n;Et(n,this.getAlias(o))}}performanceMarkEvent({event:n,payload:o}){switch(n){case u.AE_INIT:performance.mark(`odyssey_${n}`);break;case u.SLOT_REQUESTED:case u.SLOT_RENDERED:performance.mark(`odyssey_${o.slotName}_${n}`);break}}getAlias(n){return{[u.AE_INIT]:void 0,[u.SLOT_REQUESTED]:"request",[u.SLOT_RENDERED]:"render",[u.VENDOR_TIME_UPDATE]:void 0}[n]}trackPerformanceMarks(n){n.getEntriesByType("mark").forEach(r=>{if(r){const i=this.transformEligiblePerformanceMark(r);i&&(vt(i),this.trackDurations(r))}})}trackDurations(n){try{const o=this.eligiblePerformanceMarks[n.name];if(o&&o.duration){const r=this.findMatchingStartMark(o.duration.start,n);if(!r){console.warn("Could not measure performance duration: no matching start mark found",n);return}const i=performance.measure(o.duration.name,{start:r.startTime,end:n.startTime});It(i)}}catch{console.warn("Could not measure performance duration")}}findMatchingStartMark(n,o){const r=performance.getEntriesByName(n,"mark");if(r.length)return o.name!=d.AE_AUCTION_END?r[r.length-1]:r.find(i=>{var s,a;return((s=i.detail)==null?void 0:s.auctionId)===((a=o.detail)==null?void 0:a.auctionId)})}transformEligiblePerformanceMark(n){var c;const o=this.eligiblePerformanceMarks[n.name];if(o===void 0||this.abortRefreshMark(o,n))return;const r=Math.round(n.startTime),i=ie(n.name),s=o.slotName!==void 0,a=s?(c=n.detail)==null?void 0:c.slotId:void 0;if(!(s&&o.slotName!==a))return{event:n.name,payload:{time:r,...s&&{slotName:a}},alias:i}}abortRefreshMark(n,o){var i;if((n==null?void 0:n.onlyFirstRender)!=!0)return!1;const r=(i=o.detail)==null?void 0:i.renderCycleCount;return r?r>1:(console.warn(`${o.name} is missing a renderCycleCount`,o),!0)}}function Tt(){return"https://beacon.wikia-services.com/__track/special/"}const P=new Map;function At(e){var r,i;if(e=="adengbidders"||X("force_tracking"))return!0;const t=P.get(e);if(t!==void 0)return t;const n=(i=(r=window.icbm)==null?void 0:r.config)==null?void 0:i.odysseyBeaconSenderTrafficLimiter;if((n==null?void 0:n[e])===void 0)return P.set(e,!0),!0;const o=Math.random()*100<n[e];return P.set(e,o),o}function C(e,t){if(!At(e))return;const n=`${Tt()}${e}`,o={...t},r=new URLSearchParams(Object.entries(o));V(`${n}?${r.toString()}`,oe,{mode:"no-cors"}).catch(i=>console.warn("Failed to send request to Beacon service",i))}function St(){var e,t,n;return((e=window.fandomCmp)==null?void 0:e.ready)===!0&&((t=window.fandomCmp)==null?void 0:t.blocking)===!1&&((n=window.fandomCmp)==null?void 0:n.optOut)===!1}function q(e,t){return St()?e():t}function se(e){var t,n,o;return((t=window.fandomCmp)==null?void 0:t.ready)===!0&&((n=window.fandomCmp)==null?void 0:n.blocking)===!1&&((o=window.fandomCmp)==null?void 0:o.consentApi)===e}function kt(e){switch(e){case M.FANDOM_DESKTOP:return"ucp_desktop";case M.FANDOM_MOBILE:return"ucp_mobile";default:return e}}const ce={chrome:void 0,safari:void 0,firefox:void 0,msie:void 0,trident:void 0};function Ot(e){return e in ce}function Nt(e){const t=new RegExp(`(${Object.keys(ce).join("|")})\\/?\\s*(\\d+)`,"i"),n=e.match(t);if(!n||!n[1]||!n[2])return["",""];const o=n[1].toLowerCase(),r=Number.parseInt(n[2]);return!Ot(o)||Number.isNaN(r)?["",""]:[o,`${r}`]}function O(e,t){return`${e} ${t}`}function Ct(e){const t=e.match(/\b(OPR|Edg)\/(\d+)/);if(!t||!t[1]||!t[2])return"";const n=t[1],o=Number.parseInt(t[2]);if(Number.isNaN(o))return"";let r;return n==="OPR"?r="Opera":r="Edge",O(r,`${o}`)}function Rt(e,t){const n=e.match(/version\/(\d+)/i),o=Number.parseInt((n==null?void 0:n[1])??"");return O("Safari",Number.isNaN(o)?t:`${o}`)}function Lt(e,t){return`${e} ${t} -?`}function ae(){const{appName:e,appVersion:t,userAgent:n}=navigator,[o,r]=Nt(n);if(!o)return Lt(e,t);switch(o){case"trident":return O("IE","11");case"chrome":return Ct(n)||O("Chrome",r);case"safari":return Rt(n,r);case"msie":return O("MSIE",r);case"firefox":return O("Firefox",r)}return""}function v(){return q(()=>{var e,t;return((t=(e=window.fandomContext)==null?void 0:e.tracking)==null?void 0:t.sessionId)??"unknown"},re)}function I(){return q(()=>{var e,t;return((t=(e=window.fandomContext)==null?void 0:e.tracking)==null?void 0:t.beaconId)??"unknown"},re)}function h(){return q(()=>{var e,t;return((t=(e=window.mw)==null?void 0:e.config)==null?void 0:t.get("wgUserId"))||0},_t)}function b(){var e,t;return((t=(e=window.fandomContext)==null?void 0:e.tracking)==null?void 0:t.pvNumber)??-1}function T(){var e,t;return((t=(e=window.fandomContext)==null?void 0:e.tracking)==null?void 0:t.pvNumberGlobal)??-1}function A(){var e,t;return((t=(e=window.fandomContext)==null?void 0:e.tracking)==null?void 0:t.pvUID)??"unknown"}function ue(){var e,t;return((t=(e=window.fandomContext)==null?void 0:e.tracking)==null?void 0:t.ppid)??"unknown"}function S(){var e,t;return((t=(e=window.mw)==null?void 0:e.config)==null?void 0:t.get("wgCityId"))??"unknown"}function m(){var e,t;return((t=(e=window.mw)==null?void 0:e.config)==null?void 0:t.get("wgDBname"))??"unknown"}function _(){var e,t;return((t=(e=window.fandomContext)==null?void 0:e.page)==null?void 0:t.lang)??"unknown"}function k(){var e,t;return((t=(e=window.fandomContext)==null?void 0:e.page)==null?void 0:t.articleId)??-1}function w(){var e,t;return kt(((t=(e=window.ads)==null?void 0:e.context)==null?void 0:t.platform)??"unknown")??"unknown"}function de(){var e,t,n;return((n=(t=(e=window.ads)==null?void 0:e.context)==null?void 0:t.targeting)==null?void 0:n.wikiVertical)??"unknown"}function le(){var e,t;return((t=(e=window.ads)==null?void 0:e.context)==null?void 0:t.pageType)??"unknown"}function fe(){var e;return se("tcf")?((e=window.fandomCmp)==null?void 0:e.optOut)===!1?E.YES:E.NO:E.NOT_APPLICABLE}function ge(){var e;return se("usp")?((e=window.fandomCmp)==null?void 0:e.optOut)===!0?E.YES:E.NO:E.NOT_APPLICABLE}function me(){return`${ft()} ${ae()}`}async function Dt({event:e,payload:t},n){var s;const o=new Date,r=window.fandomHost.geo,i={event_name:xt(e,t,n),browser_ts:o.getTime(),load_time:Math.round(t.time),tz_offset:o.getTimezoneOffset(),country:r.country,session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:w(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p(),odyssey_version:((s=window.fandomAds)==null?void 0:s.version)??"unknown"};C("adengloadtimes",i)}function xt(e,t,n){return`${t.slotName?`${t.slotName}_`:""}${(n==null?void 0:n.beaconEventName)??t.eventName??e}`}function $t({payload:e},t){var r;const n=new Date,o={status:yt(e),name:Ut(e),slot_name:e.slotName,rv:zt(e),auction_id:e.bidInfo.auctionId??"",rejection_reason:e.bidInfo.rejectionReason??"",odyssey_version:((r=window.fandomAds)==null?void 0:r.version)??"unknown",response_time:Mt(e),size:Pt(e),price:Bt(e),additional_flags:Vt(e),slot_id:t.getUid(e.slotName),pos:e.baseSlotName,timestamp:n.getTime(),session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:w(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p(),full_auction:Gt(e)};C("adengbidders",o)}function yt(e){var t,n,o;return(t=e.bidInfo)!=null&&t.status?e.bidInfo.status:((n=e.bidInfo)==null?void 0:n.timedOut)===!0?"timedout":((o=e.bidInfo)==null?void 0:o.timedOut)===!1?"on_time":"unknown"}function Ut(e){var t;return((t=e.bidInfo)==null?void 0:t.bidderName)??"unknown"}function Pt(e){var t;return((t=e.bidInfo)==null?void 0:t.size)??"unknown"}function Bt(e){var t;return((t=e.bidInfo)==null?void 0:t.price)??"unknown"}function Mt(e){var t;return((t=e.bidInfo)==null?void 0:t.timeToRespond)??0}function Ft(e){var t,n,o;(t=e==null?void 0:e.bidInfo)!=null&&t.buyerId&&((o=e.flags)==null||o.push(`buyer_id=${(n=e.bidInfo)==null?void 0:n.buyerId}`))}function Vt(e){return e.flags=[],Ft(e),(e.flags??[]).join(";")}function zt(e){return e.rv??-1}function Gt(e){var t;return((t=e.bidInfo)==null?void 0:t.fullAuction)===!0?"yes":"no"}class Wt{constructor(t={}){this.map=t}generateUidForSlot(t){this.map[t]=crypto.randomUUID()}getUid(t){return this.map[t]!==void 0?this.map[t]:(this.generateUidForSlot(t),this.getUid(t))}}const _e="error";async function Kt({payload:e},t){const n=window.fandomHost.geo,o=B(e),r={slot_size:en(e),real_ad_size:Zt(o),requested_sizes:tn(e),slot_id:t.getUid(B(e)),position:B(e),country_code:n.country,region:n.region,rv:nn(e),...qt(e),session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:w(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p()};C("adengadsizeinfo",r)}function qt(e){const t=e.slotInfo??{};return{advertiser_id:`${t.advertiserId??""}`,creative_id:`${t.creativeId??""}`,line_item_id:`${t.lineItemId??""}`,order_id:`${t.orderId??""}`}}function Qt(e){return Ht(e)??Jt(e)}function Ht(e){const t=jt(e);if(!t)return;const{offsetHeight:n,offsetWidth:o}=t;return n&&o?{height:n,width:o}:void 0}function jt(e){var t,n,o;return(o=(n=(t=document.querySelector(`#${e} [id*='google_ads_iframe_\\/5441'] iframe`))==null?void 0:t.contentWindow)==null?void 0:n.document)==null?void 0:o.querySelector("html")}function Jt(e){var r;const t=(r=document.querySelector(`#${e} [id*='google_ads_iframe_\\/5441'] div`))==null?void 0:r.firstElementChild;if(!t)return;const{clientHeight:n,clientWidth:o}=t;return n&&o?{height:n,width:o}:void 0}function Xt(e){const t=document.getElementById(e);return{width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}}function Yt(e){const t=document.querySelector(`#${e} iframe`);if(!t)return;const{clientHeight:n,clientWidth:o}=t;return n&&o?{height:n,width:o}:void 0}function Zt(e){const{width:t,height:n}=Yt(e)??Qt(e)??Xt(e);return!t||!n?"unknown":`${t}x${n}`}function en(e){var t,n;return((t=e.slotInfo)==null?void 0:t.selectedSize)===null?"unknown":(n=e.slotInfo)!=null&&n.selectedSize?e.slotInfo.selectedSize:_e}function tn(e){try{const t=e.slotInfo.parsedSizes.join(",");return t===""?"unknown":t}catch{return _e}}function B(e){return e.slotName??"unknown"}function nn(e){return e.rv??-1}function on({event:e,payload:t},n){var s;const o=new Date,r=window.fandomHost.geo;return{ad_status:we(e),timestamp:o.getTime(),tz_offset:o.getTimezoneOffset(),device:y(),country:r.country,region:r.region,lang:_(),slot_id:ve(t,n),slot_size:"",kv_pos:t.slotName,kv_rv:Ie(t),kv_s0v:de(),kv_s1:`_${m()}`,kv_s2:le(),kv_skin:w(),ppid:ue(),page_width:window.document.body.scrollWidth.toString(),viewport_height:pe(window.innerHeight),rollout_tracking:Ee(),opt_in:fe(),is_uap:0,opt_out_sale:ge(),session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:w(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p(),browser:me(),odyssey_version:((s=window.fandomAds)==null?void 0:s.version)??"unknown"}}function rn({event:e,payload:t},n){var s;const o=new Date,r=window.fandomHost.geo;return{ad_status:we(e),timestamp:o.getTime(),tz_offset:o.getTimezoneOffset(),device:y(),country:r.country,region:r.region,lang:_(),advertiser_id:cn(t),creative_id:an(t),product_lineitem_id:un(t),order_id:dn(t),slot_id:ve(t,n),slot_size:ln(t),kv_pos:t.slotName,kv_rv:Ie(t),kv_s0v:de(),kv_s1:`_${m()}`,kv_s2:le(),kv_skin:w(),ppid:ue(),page_width:window.document.body.scrollWidth.toString(),viewport_height:pe(window.innerHeight),rollout_tracking:Ee(),opt_in:fe(),is_uap:0,opt_out_sale:ge(),session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:w(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p(),browser:me(),odyssey_version:((s=window.fandomAds)==null?void 0:s.version)??"unknown"}}async function sn(e,t){let n;[g.SLOT_CLICKED,g.SLOT_FORCE_CLOSE_INFO].includes(e.event)?n=on(e,t):n=rn(e,t),C("adengadinfo",n)}function we(e){return e.toString().replace("_info","")}function Ee(){return window.OneTrust!==void 0?"1T":"toi"}function pe(e){return e??0}function cn(e){var t;return`${((t=e.slotInfo)==null?void 0:t.advertiserId)??""}`}function an(e){var t;return`${((t=e.slotInfo)==null?void 0:t.creativeId)??""}`}function un(e){var t;return`${((t=e.slotInfo)==null?void 0:t.lineItemId)??""}`}function dn(e){var t;return`${((t=e.slotInfo)==null?void 0:t.orderId)??""}`}function ve(e,t){const n=e.slotName??"unknown";return t.getUid(n)}function ln(e){var t,n;return(t=e.slotInfo)!=null&&t.selectedSize?e.slotInfo.selectedSize:(n=e.slotInfo)!=null&&n.configuredSizes?e.slotInfo.configuredSizes.join(","):""}function Ie(e){return e.rv??-1}async function fn({payload:e}){var i;const t=new Date,n=await Z(x);if(gn(e)==="")return;const r={timestamp:t.getTime(),tz_offset:t.getTimezoneOffset(),prop_values:((i=e.flags)==null?void 0:i.join(";"))??"",country:n.country,session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:w(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p()};C("adenglabradorinfo",r)}function gn(e){var t;return((t=e.flags)==null?void 0:t.join(";"))??""}async function mn({event:e=$.TRACKING_EVENT,payload:t}){const n={...t,url:document.URL,session_id:v(),pv_number:b(),pv_number_global:T(),pv_unique_id:A(),beacon:I(),c:S(),x:m(),lc:_(),s:_n(),ua:window.navigator.userAgent,u:h(),a:k(),n:-1,exp_bucket:p()};C(e,n)}function _n(){return`ucp_${y()==="smartphone"?"mobile":"desktop"}`}const wn=200;class En extends ne{constructor(){super();f(this,"maxWaitRetries",20);f(this,"currentWaitRetries",0);f(this,"slotUid");f(this,"eligibleTrackEvents",[u.AE_INIT,u.SLOT_REQUESTED,u.SLOT_RENDERED,u.VENDOR_TIME_UPDATE,W.SLOT_SIZE_ESTABLISHED,z.BIDDER_RESPONSE,g.SLOT_REQUESTED_INFO,g.SLOT_RENDERED_INFO,g.SLOT_CLICKED,g.SLOT_FORCE_CLOSE_INFO,g.SLOT_CODE_SERVED_INFO,G.LABRADOR_KEYVALUES,$.TRACKING_EVENT]);this.slotUid=new Wt}trackEvent({event:n,payload:o}){if(this.isEligible(n)){if(this.isReady()){this.sendEvent({event:n,payload:o});return}setTimeout(()=>{this.currentWaitRetries++,this.trackEvent({event:n,payload:o})},wn)}}areRetriesExceeded(){return this.currentWaitRetries>this.maxWaitRetries}isMediaWikiConfigReady(){var n,o,r,i;return!!((o=(n=window==null?void 0:window.mw)==null?void 0:n.config)!=null&&o.get("wgCityId"))&&!!((i=(r=window==null?void 0:window.mw)==null?void 0:r.config)!=null&&i.get("wgDBname"))}areFandomContextTrackingParamsReady(){var n,o;return!!((o=(n=window==null?void 0:window.fandomContext)==null?void 0:n.tracking)!=null&&o.pvNumber)}areFandomObjectsReady(){var i,s;const n=this.isMediaWikiConfigReady(),o=((i=window.fandomCmp)==null?void 0:i.ready)===!0&&((s=window.fandomCmp)==null?void 0:s.blocking)===!1,r=this.areFandomContextTrackingParamsReady();return n&&o&&r}isReady(){return this.areRetriesExceeded()?!0:this.areFandomObjectsReady()}sendEvent(n){if(De(n))sn(n,this.slotUid);else if(xe(n))$t(n,this.slotUid);else if(Y(n))this.sendLoadTimes(n);else if(ye(n))Kt(n,this.slotUid);else if($e(n)){const{payload:o}=n;fn({payload:o})}else if(Ue(n)){const{event:o,payload:r}=n;mn({event:o,payload:r})}}sendLoadTimes(n){const o={[u.AE_INIT]:{type:"load_times",beaconEventName:"load_time_init"},[u.SLOT_REQUESTED]:{type:"load_times",beaconEventName:"requested"},[u.SLOT_RENDERED]:{type:"load_times",beaconEventName:"loaded"}};Dt(n,o[n.event])}}function pn(){return"v28"}(async()=>{var r;const e=((r=window.ads)==null?void 0:r.context.platform)??"app",t=y(),n=await Z(x),o=ae();window.icbm=await ct(e,t,n),window.dispatchEvent(new Event("instantConfigLoaded")),Be(x,n),window.fandomHost={...window.fandomHost??{},app:e,device:t,icbm:window.icbm,geo:n,version:pn(),browser:o},window.fandomTrack=window.fandomTrack??{q:[]},new gt([new bt,new En]),Se(window.fandomHost)})();
//# sourceMappingURL=main.js.map
